import { DataUrl, InvalidDataUrlError } from './DataUrl';

describe('DataUrl', () => {
  it('constructs', () => {
    const code =
      'data:image/png;base64,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';
    const data = DataUrl.from(code);
    expect(data.valueOf()).toBe(code);
  });

  it('throws error when none-base64 string given', () => {
    expect(() => DataUrl.from('foo')).toThrowError(InvalidDataUrlError);
  });
});
